package za.ac.cput.factory;

import org.junit.jupiter.api.Test;
import za.ac.cput.domain.ChatMessage;

import java.time.LocalDate;
import java.time.LocalDateTime;

import static org.junit.jupiter.api.Assertions.assertNotNull;
import static org.junit.jupiter.api.Assertions.assertEquals;

class ChatMessageFactoryTest {

    @Test
    void buildChatMessage() {
        // Create a ChatMessage using the factory
        ChatMessage chatMessage = ChatMessageFactory.buildChatMessage(1, "How are you?", "Hello World", LocalDateTime.of(2024, 3, 25, 10, 0));

        // Assert that the created ChatMessage object is not null
        assertNotNull(chatMessage);

        // Assert that each field is set correctly
        assertEquals(1, chatMessage.getMessageId());
        assertEquals("How are you?", chatMessage.getQuestion()); // Ensure getter method for question
        assertEquals("Hello World", chatMessage.getAnswer()); // Ensure getter method for answer
        assertEquals(LocalDate.from(LocalDateTime.of(2024, 3, 25, 10, 0)), chatMessage.getTimeStamp());

        // Output the ChatMessage object to the console
        System.out.println(chatMessage);
    }
}
